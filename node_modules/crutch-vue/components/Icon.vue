<template>
    <svg :class="computedClass"
         xmlns="http://www.w3.org/2000/svg"
         :filter="filter"
         :height="height"
         :width="width">
        <title v-if="altText !== null">{{ altText }}</title>
        <image :href="svgSrc" height="100%" width="100%" />
    </svg>
</template>

<script lang="ts">
    import { defineComponent, computed   } from "vue";
    import { imageServer } from "../js/variables";

    export default defineComponent({
        name: "Icon",
        props: {
            class: {
                type: String,
                default: null,
            },
            name: {
                type: String,
                default: null,
            },
            filter: {
                type: String,
                default: null,
            },
            altText: {
                type: String,
                default: null,
            },
            height: {
                type: [String, Number],
                default: 16,
            },
            imageServer: {
                type: String,
                default: imageServer,
            },
            width: {
                type: [String, Number],
                default: 16,
            },
        },
        setup(props) {
            const svgSrc = computed(() => {
                return `${props.imageServer}/common/illustrations/icons/${props.name}.svg`
            });

            const computedClass = computed(() => {
                if (props.class !== null) {
                    return `icon ${props.class}`;
                }

                return "icon";
            });

            return {
                svgSrc,
                computedClass,
            };
        },
    });
</script>
